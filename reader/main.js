(()=>{"use strict";window.onload=function(){var e=new EPUBJS.storage;document.getElementById("upload").addEventListener("change",(function(r){if(0!==r.target.files.length)if(window.FileReader){var o=new FileReader;o.onload=function(r){e.clear(),e.set(r.target.result,(function(){window.reader=ePubReader(r.target.result,{restore:!0})}))},o.readAsArrayBuffer(r.target.files[0]),o.onerror=function(e){console.error(e)}}else alert("Your browser does not support the required features.\nPlease use a modern browser such as Google Chrome, or Mozilla Firefox.")}),!1),e.init((function(){e.get((function(e){window.reader=void 0!==e?ePubReader(e,{restore:!0}):ePubReader("https://s3.amazonaws.com/moby-dick/",{restore:!0})}))}))}})();